-- 테이블 순서는 관계를 고려하여 한 번에 실행해도 에러가 발생하지 않게 정렬되었습니다.

-- MEMBER Table Create SQL
CREATE TABLE MEMBER
(
    ID          VARCHAR2(40)    NOT NULL,
    NAME     VARCHAR2(20)    NOT NULL 
    PASSWORD    VARCHAR2(20)    NOT NULL, 
    ADDRESS     VARCHAR2(100)    NOT NULL, 
    BIRTH       NUMBER          NOT NULL, 
    CONSTRAINT PK_MEMBER PRIMARY KEY (ID)
)
/

-- PRODUCT Table Create SQL
CREATE TABLE PRODUCT
(
    IDX          NUMBER            NOT NULL, 
    TITLE        VARCHAR2(100)      NOT NULL, 
    CONTENT      VARCHAR2(1000)     NOT NULL, 
    HIT          NUMBER      NOT NULL, 
    WRITEDATE    DATE              NOT NULL, 
    FILENAME     VARCHAR2(500)     NOT NULL, 
    FILEPATH     VARCHAR2(1000)    NOT NULL, 
    ID           VARCHAR2(20)      NULL, 
    FILENAME2    VARCHAR2(500)     NOT NULL, 
    FILEPATH2    VARCHAR2(1000)    NOT NULL, 
    FILENAME3    VARCHAR2(500)     NOT NULL, 
    FILEPATH3    VARCHAR2(1000)    NOT NULL, 
    PRICE        NUMBER            NULL, 
    CONSTRAINT PK_PRODUCT PRIMARY KEY (IDX)
)
/

CREATE SEQUENCE PRODUCT_SEQ
START WITH 1
INCREMENT BY 1;
/

--DROP SEQUENCE PRODUCT_SEQ;
/

ALTER TABLE PRODUCT
    ADD CONSTRAINT FK_PRODUCT_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


-- DAILY Table Create SQL
CREATE TABLE DAILY
(
    IDX          NUMBER            NOT NULL, 
    TITLE        VARCHAR2(100)      NOT NULL, 
    CONTENT      VARCHAR2(1000)      NOT NULL, 
    HIT          NUMBER      NOT NULL, 
    WRITEDATE    DATE             NOT NULL, 
    FILENAME     VARCHAR2(500)     NULL, 
    FILEPATH     VARCHAR2(1000)    NULL, 
    REFER        NUMBER            NULL, 
    DEPTH        NUMBER            NULL, 
    STEP         NUMBER            NULL, 
    ID           VARCHAR2(20)      NULL, 
    CONSTRAINT PK_DAILY PRIMARY KEY (IDX)
)
/

CREATE SEQUENCE DAILY_SEQ
START WITH 1
INCREMENT BY 1;
/

--DROP SEQUENCE DAILY_SEQ;
/

ALTER TABLE DAILY
    ADD CONSTRAINT FK_DAILY_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


-- RESTAURANT Table Create SQL
CREATE TABLE RESTAURANT
(
    IDX          NUMBER            NOT NULL, 
    TITLE        VARCHAR2(100)      NOT NULL, 
    CONTENT      VARCHAR2(1000)     NOT NULL, 
    HIT          NUMBER            NOT NULL, 
    WRITEDATE    DATE              NOT NULL, 
    ID           VARCHAR2(20)      NOT NULL, 
    FILENAME     VARCHAR2(500)     NULL, 
    FILEPATH     VARCHAR2(1000)    NULL, 
    CONSTRAINT PK_RESTAURANT PRIMARY KEY (IDX)
)
/

CREATE SEQUENCE RESTAURANT_SEQ
START WITH 1
INCREMENT BY 1;
/


--DROP SEQUENCE RESTAURANT_SEQ;
/

ALTER TABLE RESTAURANT
    ADD CONSTRAINT FK_RESTAURANT_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


-- PET Table Create SQL
CREATE TABLE PET
(
    IDX          NUMBER            NOT NULL, 
    TITLE        VARCHAR2(100)      NOT NULL, 
    CONTENT      VARCHAR2(1000)     NOT NULL, 
    HIT          NUMBER      NOT NULL, 
    WRITEDATE    DATE              NOT NULL, 
    FILENAME     VARCHAR2(500)     NOT NULL, 
    FILEPATH     VARCHAR2(1000)    NOT NULL, 
    ID           VARCHAR2(20)      NOT NULL, 
    FILENAME2    VARCHAR2(500)     NOT NULL, 
    FILEPATH2    VARCHAR2(1000)    NOT NULL, 
    FILENAME3    VARCHAR2(500)     NOT NULL, 
    FILEPATH3    VARCHAR2(1000)    NOT NULL, 
    CONSTRAINT PK_PET PRIMARY KEY (IDX)
)
/

CREATE SEQUENCE PET_SEQ
START WITH 1
INCREMENT BY 1;
/

--DROP SEQUENCE PET_SEQ;
/

ALTER TABLE PET
    ADD CONSTRAINT FK_PET_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


-- LOST_COMMENT Table Create SQL
CREATE TABLE LOST_COMMENT
(
    NO           NUMBER          NOT NULL, 
    CONTENT      VARCHAR2(500)    NOT NULL, 
    WRITEDATE    DATE            NOT NULL, 
    ID           VARCHAR2(20)    NOT NULL, 
    IDX          NUMBER          NOT NULL, 
    CONSTRAINT PK_LOST_COMMENT PRIMARY KEY (NO)
)
/

CREATE SEQUENCE LOST_COMMENT_SEQ
START WITH 1
INCREMENT BY 1;
/

--DROP SEQUENCE LOST_COMMENT_SEQ;
/

ALTER TABLE LOST_COMMENT
    ADD CONSTRAINT FK_LOST_COMMENT_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


-- NOTICE Table Create SQL
CREATE TABLE NOTICE
(
    IDX          NUMBER           NOT NULL, 
    TITLE        VARCHAR2(100)     NOT NULL, 
    CONTENT      VARCHAR2(1000)    NOT NULL, 
    HIT          NUMBER           NOT NULL, 
    WRITEDATE    DATE             NOT NULL, 
    ID           VARCHAR2(20)     NOT NULL, 
    CONSTRAINT PK_NOTICE PRIMARY KEY (IDX)
)
/

CREATE SEQUENCE NOTICE_SEQ
START WITH 1
INCREMENT BY 1;
/

--DROP SEQUENCE NOTICE_SEQ;
/

ALTER TABLE NOTICE
    ADD CONSTRAINT FK_NOTICE_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


-- PET_COMMENT Table Create SQL
CREATE TABLE PET_COMMENT
(
    NO           NUMBER          NOT NULL, 
    CONTENT      VARCHAR2(500)    NOT NULL, 
    WRITEDATE    DATE            NOT NULL, 
    ID           VARCHAR2(20)    NOT NULL, 
    IDX          NUMBER          NOT NULL, 
    CONSTRAINT PK_PET_COMMENT PRIMARY KEY (NO)
)
/

CREATE SEQUENCE PET_COMMENT_SEQ
START WITH 1
INCREMENT BY 1;
/

--DROP SEQUENCE PET_COMMENT_SEQ;
/

ALTER TABLE PET_COMMENT
    ADD CONSTRAINT FK_PET_COMMENT_IDX_PET_IDX FOREIGN KEY (IDX)
        REFERENCES PET (IDX)
/

ALTER TABLE PET_COMMENT
    ADD CONSTRAINT FK_PET_COMMENT_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


-- RESTAURANT_COMMENT Table Create SQL
CREATE TABLE RESTAURANT_COMMENT
(
    NO           NUMBER          NOT NULL, 
    CONTENT      VARCHAR2(500)    NOT NULL, 
    WRITEDATE    DATE            NOT NULL, 
    ID           VARCHAR2(20)    NOT NULL, 
    IDX          NUMBER          NOT NULL, 
    CONSTRAINT PK_RESTAURANT_COMMENT PRIMARY KEY (NO)
)
/

CREATE SEQUENCE RESTAURANT_COMMENT_SEQ
START WITH 1
INCREMENT BY 1;
/

--DROP SEQUENCE RESTAURANT_COMMENT_SEQ;
/

ALTER TABLE RESTAURANT_COMMENT
    ADD CONSTRAINT FK_RESTAURANT_COMMENT_ID_MEMBE FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/

ALTER TABLE RESTAURANT_COMMENT
    ADD CONSTRAINT FK_RESTAURANT_COMMENT_IDX_REST FOREIGN KEY (IDX)
        REFERENCES RESTAURANT (IDX)
/


-- LOST Table Create SQL
CREATE TABLE LOST
(
    IDX          NUMBER            NOT NULL, 
    TITLE        VARCHAR2(100)      NOT NULL, 
    CONTENT      VARCHAR2(1000)      NOT NULL, 
    HIT          NUMBER      NOT NULL, 
    WRITEDATE    DATE              NOT NULL, 
    FILENAME     VARCHAR2(500)     NULL, 
    FILEPATH     VARCHAR2(1000)    NULL, 
    REFER        NUMBER            NOT NULL, 
    DEPTH        NUMBER            NOT NULL, 
    STEP         NUMBER            NOT NULL, 
    ID           VARCHAR2(20)      NULL, 
    CONSTRAINT PK_LOST PRIMARY KEY (IDX)
)
/

CREATE SEQUENCE LOST_SEQ
START WITH 1
INCREMENT BY 1;
/

--DROP SEQUENCE LOST_SEQ;
/

ALTER TABLE LOST
    ADD CONSTRAINT FK_LOST_IDX_LOST_COMMENT_IDX FOREIGN KEY (IDX)
        REFERENCES LOST_COMMENT (IDX)
/

ALTER TABLE LOST
    ADD CONSTRAINT FK_LOST_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


-- DAILY_COMMENT Table Create SQL
CREATE TABLE DAILY_COMMENT
(
    NO           NUMBER          NOT NULL, 
    CONTENT      VARCHAR2(500)    NOT NULL, 
    WRITEDATE    DATE            NOT NULL, 
    ID           VARCHAR2(20)    NOT NULL, 
    IDX          NUMBER          NOT NULL, 
    CONSTRAINT PK_DAILY_COMMENT PRIMARY KEY (NO)
)
/

CREATE SEQUENCE DAILY_COMMENT_SEQ
START WITH 1
INCREMENT BY 1;
/

--DROP SEQUENCE DAILY_COMMENT_SEQ;
/

ALTER TABLE DAILY_COMMENT
    ADD CONSTRAINT FK_DAILY_COMMENT_IDX_DAILY_IDX FOREIGN KEY (IDX)
        REFERENCES DAILY (IDX)
/

ALTER TABLE DAILY_COMMENT
    ADD CONSTRAINT FK_DAILY_COMMENT_ID_MEMBER_ID FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


-- PRODUCT_COMMENT Table Create SQL
CREATE TABLE PRODUCT_COMMENT
(
    NO           NUMBER          NOT NULL, 
    CONTENT      VARCHAR2(500)    NOT NULL, 
    WRITEDATE    DATE            NOT NULL, 
    ID           VARCHAR2(20)    NOT NULL, 
    IDX          NUMBER          NOT NULL, 
    CONSTRAINT PK_PRODUCT_COMMENT PRIMARY KEY (NO)
)
/

CREATE SEQUENCE PRODUCT_COMMENT_SEQ
START WITH 1
INCREMENT BY 1;
/

--DROP SEQUENCE PRODUCT_COMMENT_SEQ;
/

ALTER TABLE PRODUCT_COMMENT
    ADD CONSTRAINT FK_PRODUCT_COMMENT_IDX_PRODUCT FOREIGN KEY (IDX)
        REFERENCES PRODUCT (IDX)
/

ALTER TABLE PRODUCT_COMMENT
    ADD CONSTRAINT FK_PRODUCT_COMMENT_ID_MEMBER_I FOREIGN KEY (ID)
        REFERENCES MEMBER (ID)
/


